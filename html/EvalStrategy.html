<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
<title>
ååˆ†é’Ÿé­”æ³•ç»ƒä¹ </title>
<style>
body { max-width: 650px; margin: auto; width: 90%; margin-top: 10%; margin-bottom: 10%; color: #0B0E26; background: #FAFAFC; line-height: 2em; }
body { font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif; }
h1 { font-size: 2.5em; color: #EF96AB; line-height: 1.5em; }
h2 { margin-top: 2em; line-height: 1.5em; }
blockquote { color: gray; margin: 0; padding: 1 1 1 20; border-left: 5px solid #EF96AB; }
code, pre { font-family: Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace; background: #FCF6FC; border-radius: 3px; padding-inline: 0.3rem; }
pre { overflow-x: auto; padding: 10px; }
a { color: #02AEF1; text-decoration: none; }
@media (prefers-color-scheme: dark) { body { color: #D8D8D6; background: #0E0E10; } }
@media (prefers-color-scheme: dark) { pre, code { color: #D8D8D6; background: #0E0F1F; } }
.hljs-keyword { color: #F288AF; }
.hljs-comment { color: #929CA6; }
.hljs-string { color: #0594A6; }
.hljs-title { color: #4581D9 }
</style>
</head>
<body>
<p>
<a href="https://magic.huohuo.moe">ğŸ HomepageğŸ </a> | <a href="https://github.com/niltok/magic-in-ten-mins">â­Star me on GitHubâ­</a></p>
<h1 id="ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šæ±‚å€¼ç­–ç•¥">ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šæ±‚å€¼ç­–ç•¥</h1>
<h3 id="by-ã€Œç©ç«ã€">By ã€Œç©ç«ã€</h3>
<blockquote>
<p>å‰ç½®æŠ€èƒ½ï¼šJavaåŸºç¡€ï¼ŒÎ»æ¼”ç®—</p>
</blockquote>
<h2 id="éä¸¥æ ¼æ±‚å€¼">éä¸¥æ ¼æ±‚å€¼</h2>
<p>ç»†å¿ƒçš„è¯»è€…åº”è¯¥å·²ç»æ³¨æ„åˆ°ï¼Œ Î» æ¼”ç®—é‚£æœŸä¸­è®²åˆ°çš„ Î» æ¼”ç®—è§£é‡Šå™¨çš„ <code>reduce</code> å¹¶ä¸ä¼šå…ˆå°†å‚æ•° <code>reduce</code> ï¼Œè€Œæ˜¯å…ˆ <code>apply</code> å‚æ•°å†åœ¨æœ€å <code>reduce</code> ç»“æœï¼š</p>
<pre><code class="language-java"><span class="hljs-comment">// class App</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">reduce</span><span class="hljs-params">()</span> </span>{
    Expr fr = f.reduce();
    <span class="hljs-keyword">if</span> (fr <span class="hljs-keyword">instanceof</span> Fun) {
        Fun fun = (Fun) fr;
        <span class="hljs-keyword">return</span> fun.e.apply(fun.x, x).reduce();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> App(fr, x);
}</code></pre>
<p>å¹¶ä¸”å‡½æ•°çš„ <code>reduce</code> å¹¶ä¸ä¼š <code>reduce</code> å‡½æ•°å†…éƒ¨è¡¨è¾¾å¼è€Œæ˜¯ç›´æ¥è¿”å› <code>this</code> ã€‚</p>
<p>è¿™æ ·å¤„ç†å’Œå¹³æ—¶è§è¿‡çš„å¸¸è§„è¯­è¨€ä¼¼ä¹å¾ˆä¸ä¸€æ ·ï¼ŒCã€Javaåœ¨å¤„ç†å‡½æ•°å‚æ•°æ—¶éƒ½é€‰æ‹©å…ˆå¯¹å‚æ•°æ±‚å€¼å†ä¼ å‚ã€‚</p>
<p>åƒè¿™æ ·å…ˆä¼ å‚å†å½’çº¦çš„æ±‚å€¼æ€è·¯å°±å«éä¸¥æ ¼æ±‚å€¼ï¼ˆNon-strict Evaluationï¼‰ï¼Œä¹Ÿå«æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰ã€‚å…¶æœ€å¤§å¥½å¤„æ˜¯åœ¨å¾ˆå¤šæ—¶å€™å‡½æ•°çš„å‚æ•°æ²¡æœ‰è¢«ä½¿ç”¨è¿‡çš„æƒ…å†µä¸‹èŠ‚çœäº†æ±‚å€¼æ—¶å½’çº¦æ¬¡æ•°ã€‚</p>
<p>æ¯”å¦‚ <code>(Î» x. Î» y. x) complex1 complex2</code> è¿™ä¸ª Î» è¡¨è¾¾å¼åªä¼šå– <code>complex1</code> å’Œ <code>complex2</code> ä¸­çš„ <code>complex1</code> ï¼Œå¦‚æœ <code>complex2</code> éå¸¸å¤æ‚é‚£å°±éå¸¸æµªè´¹ç®—åŠ›äº†ã€‚</p>
<h2 id="ä¸¥æ ¼æ±‚å€¼">ä¸¥æ ¼æ±‚å€¼</h2>
<p>æ‰€è°“ä¸¥æ ¼æ±‚å€¼ï¼ˆStrict Evaluationï¼‰å°±æ˜¯åƒ C ç³»è¯­è¨€ä¸€æ ·å…ˆæ±‚å‚æ•°çš„å€¼å†ä¼ å‚ï¼š</p>
<pre><code class="language-java"><span class="hljs-comment">// class App</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">strictReduce</span><span class="hljs-params">()</span> </span>{
    Expr fr = f.strictReduce();
    Expr xr = x.strictReduce();
    <span class="hljs-keyword">if</span> (fr <span class="hljs-keyword">instanceof</span> Fun) {
        Fun fun = (Fun) fr;
        <span class="hljs-keyword">return</span> fun.e.apply(fun.x, xr).strictReduce();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> App(fr, xr);
}</code></pre>
<p>Î» æ¼”ç®—ä¸­æ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½æ˜¯<strong>çº¯</strong>çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åŒçš„æ±‚å€¼ç­–ç•¥å’Œæ±‚å€¼é¡ºåºå¹¶ä¸ä¼šå½±å“æœ€ç»ˆæ±‚å€¼çš„ç»“æœã€‚æ‰€ä»¥ä¸åŒçš„æ±‚å€¼ç­–ç•¥æ±‚å‡ºçš„ç»“æœéƒ½æ˜¯ç­‰ä»·çš„ï¼Œåªæ˜¯æ‰“å°å‡ºæ¥çš„æ•ˆæœä¸åŒã€‚è¿™ä¸ C ç³»è¯­è¨€å°±å¾ˆä¸ä¸€æ ·ã€‚</p>
<h2 id="å®Œå…¨-Î²-å½’çº¦">å®Œå…¨ Î² å½’çº¦</h2>
<p>å¦‚æœæƒ³è¦è®©æ‰“å°å‡ºçš„è¡¨è¾¾å¼è¢«åŒ–åˆ°æœ€ç®€è¿˜éœ€è¦åœ¨ä¸¥æ ¼æ±‚å€¼çš„åŸºç¡€ä¸ŠæŠŠå‡½æ•°å®šä¹‰ä¸­çš„è¡¨è¾¾å¼ä¹Ÿè¿›ä¸€æ­¥å½’çº¦ï¼š</p>
<pre><code class="language-java"><span class="hljs-comment">// class Fun</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">fullBetaReduce</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Fun(x, e.fullBetaReduce());
}</code></pre>
<p>è¿™å°±æ˜¯å®Œå…¨ Î² å½’çº¦ã€‚å®ƒä¼šå°†ä»»ä½•èƒ½å½’çº¦çš„åœ°æ–¹å½’çº¦ï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°å¹¶æ²¡æœ‰è¢«åº”ç”¨å‡½æ•°å†…éƒ¨ä¹Ÿä¼šè¢«å½’çº¦ã€‚</p>
<h2 id="å¯¹æ¯”">å¯¹æ¯”</h2>
<p>å¯¹äºÎ»è¡¨è¾¾å¼ï¼š</p>
<pre><code>(Î» n. Î» f. Î» x. (f (n f x)) (Î» f. Î» x. x))</code></pre>
<p>è¿›è¡Œéä¸¥æ ¼æ±‚å€¼ä¼šå¾—åˆ°ï¼š</p>
<pre><code>Î» f. Î» x. f ((Î» f. Î» x. x) f x)</code></pre>
<p>è¿›è¡Œå®Œå…¨Î²å½’çº¦ä¼šå¾—åˆ°ï¼š</p>
<pre><code>Î» f. Î» x. f x</code></pre>
</body>
</html>
