<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
<title>
ååˆ†é’Ÿé­”æ³•ç»ƒä¹ </title>
<style>
body { max-width: 650px; margin: auto; width: 90%; margin-top: 10%; margin-bottom: 10%; color: #0B0E26; background: #FAFAFC; line-height: 2em; }
body { font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif; }
h1 { font-size: 2.5em; color: #EF96AB; line-height: 1.5em; }
h2 { margin-top: 2em; line-height: 1.5em; }
blockquote { color: gray; margin: 0; padding: 1 1 1 20; border-left: 5px solid #EF96AB; }
code, pre { font-family: Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace; background: #FCF6FC; }
pre { overflow-x: auto; padding: 10px; }
a { color: #02AEF1; text-decoration: none; }
@media (prefers-color-scheme: dark) { body { color: #D8D8D6; background: #0E0E10; } }
@media (prefers-color-scheme: dark) { pre, code { color: #D8D8D6; background: #0E0F1F; } }
.hljs-keyword { color: #F288AF; }
.hljs-comment { color: #929CA6; }
.hljs-string { color: #0594A6; }
.hljs-title { color: #4581D9 }
</style>
</head>
<body>
<p>
<a href="https://magic.huohuo.moe">ğŸ HomepageğŸ </a> | <a href="https://github.com/niltok/magic-in-ten-mins">â­Star me on GitHubâ­</a></p>
<h1 id="ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå‘é‡ä¸æœ‰é™é›†">ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå‘é‡ä¸æœ‰é™é›†</h1>
<h3 id="by-ã€Œç©ç«ã€">By ã€Œç©ç«ã€</h3>
<blockquote>
<p>å‰ç½®æŠ€èƒ½ï¼šæ„é€ æ¼”ç®—ï¼Œ ADT ï¼Œä¾èµ–ç±»å‹æ¨¡å¼åŒ¹é…</p>
</blockquote>
<h2 id="into">Into</h2>
<p>åœ¨æ„é€ æ¼”ç®—ä¸­èƒ½æ„é€ å‡ºè®¸å¤š Java ä¸­æ— æ³•è¡¨è¾¾çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ä¾èµ–ç±»å‹ï¼ˆDependent Typeï¼ŒDTï¼‰ä¹Ÿå°±æ˜¯ç±»å‹ä¾èµ–å€¼çš„ç‰¹æ€§å¯ä»¥åœ¨æ‰€ä¾èµ–çš„å€¼çš„å±‚é¢ä¸ºç±»å‹åŠ ä¸Šçº¦æŸï¼Œæœ¬æœŸç”¨å‘é‡å’Œæœ‰é™é›†æ•°æ®ç»“æ„ä¸ºä¾‹ä»‹ç» DT ä¸­çš„æ•°æ®ç»“æ„æ„é€ æ€è·¯ã€‚</p>
<blockquote>
<p>è‡ªç„¶æ•°é‡‡ç”¨ä»¥ä¸‹å®šä¹‰ï¼š</p>
<pre><code>type Nat: *
| Z: Nat
| S: Nat â†’ Nat</code></pre>
<p>è€Œæ•°å­—æ˜¯ Nat çš„è¯­æ³•ç³–ï¼Œ0 å°±æ˜¯ Z ï¼Œ3 å°±æ˜¯ S (S (S Z)) ã€‚</p>
</blockquote>
<h2 id="å‘é‡">å‘é‡</h2>
<p>ä¸€ä¸ªå‘é‡å°±æ˜¯ä¸€ä¸ªã€Œå¸¦æœ‰é•¿åº¦ä¿¡æ¯ã€çš„åˆ—è¡¨ï¼š</p>
<pre><code>type Vec: * â†’ Nat â†’ *
| Nil: (T: *) â†’ Vec T Z
| Cons: (T: *) â†’ T â†’ (n: Nat) â†’ Vec T n â†’ Vec T (S n)</code></pre>
<p>ç›¸æ¯”åˆ—è¡¨ï¼Œå‘é‡å¤šäº†ä¸€ä¸ªå½“åšã€Œè®¡æ•°å™¨ã€çš„è‡ªç„¶æ•°å‚æ•°ï¼Œç”¨æ¥è®°å½•å‘é‡çš„é•¿åº¦ã€‚æ„é€ å™¨ <code>Nil</code> å¯ä»¥å¾—åˆ° 0 ç»´åº¦çš„å‘é‡ï¼Œæ„é€ å™¨ <code>Cons</code> å¯ä»¥ä¸º n ç»´å‘é‡æ·»åŠ ä¸€é¡¹å˜æˆ n + 1 ç»´çš„å‘é‡ã€‚æ¯”å¦‚è¯´åæ ‡ <code>(1, 3, 5)</code> å°±å¯ä»¥ç”¨ </p>
<pre><code>Cons Nat 1 2 (
Cons Nat 3 1 (
Cons Nat 5 0 (
Nil Nat)))</code></pre>
<p>æ¥è¡¨ç¤ºã€‚ä¸€ä¸ªåº”ç”¨çš„ä¾‹å­ï¼Œåœ¨å‘é‡ä¸Šçš„ <code>map</code> ï¼š</p>
<pre><code>map = Î» A: *. Î» B: *. Î» f: A â†’ B. 
    Î¼ self: (n: Nat) â†’ Vec A n â†’ Vec B n. 
    Î» n: Nat. Î» v: Vec A n.
    match v (Vec B n)
    | Nil  _        â†’ Nil B
    | Cons _ x m xs â†’ Cons B (f x) m (self m xs) </code></pre>
<h2 id="æœ‰é™é›†">æœ‰é™é›†</h2>
<p>ä¸€ä¸ª N æœ‰é™é›†å°±æ˜¯èŒƒå›´ä¸º 0 åˆ° N - 1 çš„æ•´æ•°é›†åˆï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code>type Fin: Nat â†’ *
| FZ: (n: Nat) â†’ Fin (S n)
| FS: (n: Nat) â†’ Fin n â†’ Fin (S n)</code></pre>
<p>éå¸¸å¥‡æ€ªï¼Œå¯¹å§ã€‚ä¸¾ä¸ªä¾‹å­æ„Ÿå—ä¸€ä¸‹ï¼Œå¯¹äº <code>Fin 3</code> åªæœ‰ä»¥ä¸‹ä¸‰ä¸ªåˆæ³•å®ä¾‹ï¼Œæ­£å¥½èƒ½è¡¨ç¤º {0, 1, 2} è¿™ä¸ªæœ‰é™é›†ï¼š</p>
<pre><code>0 =&gt; FZ 2
1 =&gt; FS 2 (FZ 1)
2 =&gt; FS 2 (FS 1 (FZ 0))</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ <code>Fin</code> çš„å‚æ•°è®¾å®šäº†åµŒå¥—çš„æœ€å¤§å±‚æ•°ï¼Œæ¯åµŒå¥—ä¸€å±‚ <code>FS</code> å†…å±‚çš„å‚æ•°å‡å°ä¸€ï¼Œè€ŒåµŒå¥—çš„å±‚æ•°å°±ç¼–ç äº†è¡¨ç¤ºçš„æ•°è¿™æ ·å°±èƒ½é™åˆ¶å–åˆ°çš„æœ€å¤§å€¼ã€‚</p>
</body>
</html>
