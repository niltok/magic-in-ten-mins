<!DOCTYPE html><html lang="zh-CN" prefix="og: https://ogp.me/ns#">
<head >
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title >
ååˆ†é’Ÿé­”æ³•ç»ƒä¹ </title>
<style >
body {
    max-width: 35em;
    margin: auto;
    width: 90%;
    margin-top: 10%;
    margin-bottom: 10%;
    color: #0B0E26;
    background: #FAFAFC;
    line-height: 2em;
    text-rendering: optimizeLegibility;
    text-align: justify;
}

html {
    scroll-behavior: smooth;
    font-size: calc(min(.35vw + 16px, 25px));
    font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif;
}

h1 {
    font-size: 2.5rem;
    color: #EF96AB;
    line-height: 1.5em;
}

h2 {
    margin-top: 2rem;
    line-height: 1.5em;
}

h1,
h2,
h3 {
    /* text-align: center; */
}

blockquote {
    color: gray;
    margin: 0;
    padding: 1px 0 1px 1.2em;
    border-left: .3em solid #EF96AB;
}

code,
pre {
    font-size: 0.9rem;
    line-height: 1.8em;
    font-family: "JetBrains Mono", "ç­‰è·æ›´çº±é»‘ä½“ SC", "Fira Code", Menlo, Monaco, source-code-pro, Courier New, Consolas, monospace;
    background: #FCF6FC;
    border-radius: 3px;
    padding-inline: 0.3em;
}

pre {
    overflow-x: auto;
    padding: 1em 1.5em;
}

pre>code {
    padding-inline: 0;
}

::-webkit-scrollbar,
.element::-webkit-scrollbar,
.element {
    /* opacity: 0.5; */
}

a {
    color: #02AEF1;
    text-decoration: none;
}

@media (prefers-color-scheme: dark) {
    body {
        color: #D8D8D6;
        background: #0E0E10;
    }
}

@media (prefers-color-scheme: dark) {

    pre,
    code {
        color: #D8D8D6;
        background: #0E0F1F;
    }
}

.hljs-keyword {
    color: #F288AF;
}

.hljs-comment {
    color: #929CA6;
}

.hljs-string {
    color: #0594A6;
}

.hljs-title {
    color: #4581D9;
}

.hljs-type,
.hljs-built_in {
    color: #fca311;
}</style>
</head>
<body >
<p >
<a href="https://magic.huohuo.moe">ğŸ HomepageğŸ </a> | <a href="https://github.com/niltok/magic-in-ten-mins">â­Star me on GitHubâ­</a></p>
<h1 id="ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå‘é‡ä¸æœ‰é™é›†">ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå‘é‡ä¸æœ‰é™é›†</h1>
<h3 id="by-ã€Œç©ç«ã€">By ã€Œç©ç«ã€</h3>
<blockquote>
<p>å‰ç½®æŠ€èƒ½ï¼šæ„é€ æ¼”ç®—ï¼Œ ADT ï¼Œä¾èµ–ç±»å‹æ¨¡å¼åŒ¹é…</p>
</blockquote>
<h2 id="into">Into</h2>
<p>åœ¨æ„é€ æ¼”ç®—ä¸­èƒ½æ„é€ å‡ºè®¸å¤š Java ä¸­æ— æ³•è¡¨è¾¾çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ä¾èµ–ç±»å‹ï¼ˆDependent Typeï¼ŒDTï¼‰ä¹Ÿå°±æ˜¯ç±»å‹ä¾èµ–å€¼çš„ç‰¹æ€§å¯ä»¥åœ¨æ‰€ä¾èµ–çš„å€¼çš„å±‚é¢ä¸ºç±»å‹åŠ ä¸Šçº¦æŸï¼Œæœ¬æœŸç”¨å‘é‡å’Œæœ‰é™é›†æ•°æ®ç»“æ„ä¸ºä¾‹ä»‹ç» DT ä¸­çš„æ•°æ®ç»“æ„æ„é€ æ€è·¯ã€‚</p>
<blockquote>
<p>è‡ªç„¶æ•°é‡‡ç”¨ä»¥ä¸‹å®šä¹‰ï¼š</p>
<pre><code><span class="hljs-attr">type Nat:</span> <span class="hljs-string">*</span>
<span class="hljs-string">|</span> <span class="hljs-attr">Z:</span> <span class="hljs-string">Nat</span>
<span class="hljs-string">|</span> <span class="hljs-attr">S:</span> <span class="hljs-string">Nat</span> <span class="hljs-string">â†’</span> <span class="hljs-string">Nat</span>
</code></pre>
<p>è€Œæ•°å­—æ˜¯ Nat çš„è¯­æ³•ç³–ï¼Œ0 å°±æ˜¯ Z ï¼Œ3 å°±æ˜¯ S (S (S Z)) ã€‚</p>
</blockquote>
<h2 id="å‘é‡">å‘é‡</h2>
<p>ä¸€ä¸ªå‘é‡å°±æ˜¯ä¸€ä¸ªã€Œå¸¦æœ‰é•¿åº¦ä¿¡æ¯ã€çš„åˆ—è¡¨ï¼š</p>
<pre><code><span class="hljs-built_in">type</span> V<span class="hljs-symbol">ec:</span> * â†’ Nat â†’ *
| <span class="hljs-built_in">N</span><span class="hljs-symbol">il:</span> (<span class="hljs-symbol">T:</span> *) â†’ Vec <span class="hljs-built_in">T</span> Z
| Co<span class="hljs-symbol">ns:</span> (<span class="hljs-symbol">T:</span> *) â†’ <span class="hljs-built_in">T</span> â†’ (<span class="hljs-symbol">n:</span> Nat) â†’ Vec <span class="hljs-built_in">T</span> <span class="hljs-built_in">n</span> â†’ Vec <span class="hljs-built_in">T</span> (S <span class="hljs-built_in">n</span>)
</code></pre>
<p>ç›¸æ¯”åˆ—è¡¨ï¼Œå‘é‡å¤šäº†ä¸€ä¸ªå½“åšã€Œè®¡æ•°å™¨ã€çš„è‡ªç„¶æ•°å‚æ•°ï¼Œç”¨æ¥è®°å½•å‘é‡çš„é•¿åº¦ã€‚æ„é€ å™¨ <code>Nil</code> å¯ä»¥å¾—åˆ° 0 ç»´åº¦çš„å‘é‡ï¼Œæ„é€ å™¨ <code>Cons</code> å¯ä»¥ä¸º n ç»´å‘é‡æ·»åŠ ä¸€é¡¹å˜æˆ n + 1 ç»´çš„å‘é‡ã€‚æ¯”å¦‚è¯´åæ ‡ <code>(1, 3, 5)</code> å°±å¯ä»¥ç”¨ </p>
<pre><code><span class="hljs-attribute">Cons</span> Nat <span class="hljs-number">1</span> <span class="hljs-number">2</span> (
<span class="hljs-attribute">Cons</span> Nat <span class="hljs-number">3</span> <span class="hljs-number">1</span> (
<span class="hljs-attribute">Cons</span> Nat <span class="hljs-number">5</span> <span class="hljs-number">0</span> (
<span class="hljs-attribute">Nil</span> Nat)))
</code></pre>
<p>æ¥è¡¨ç¤ºã€‚ä¸€ä¸ªåº”ç”¨çš„ä¾‹å­ï¼Œåœ¨å‘é‡ä¸Šçš„ <code>map</code> ï¼š</p>
<pre><code>map = Î» A: *. Î» B: *. Î» f: A â†’ B. 
    Î¼ <span class="hljs-keyword">self</span>: (n: Nat) â†’ <span class="hljs-built_in">Vec</span> A n â†’ <span class="hljs-built_in">Vec</span> B n. 
    Î» n: Nat. Î» v: <span class="hljs-built_in">Vec</span> A n.
    <span class="hljs-keyword">match</span> v (<span class="hljs-built_in">Vec</span> B n)
    | Nil  _        â†’ Nil B
    | Cons _ x m xs â†’ Cons B (f x) m (<span class="hljs-keyword">self</span> m xs) 
</code></pre>
<h2 id="æœ‰é™é›†">æœ‰é™é›†</h2>
<p>ä¸€ä¸ª N æœ‰é™é›†å°±æ˜¯èŒƒå›´ä¸º 0 åˆ° N - 1 çš„æ•´æ•°é›†åˆï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code><span class="hljs-selector-tag">type</span> <span class="hljs-selector-tag">Fin</span>: <span class="hljs-selector-tag">Nat</span> â†’ *
| <span class="hljs-selector-tag">FZ</span>: (<span class="hljs-attribute">n</span>: Nat) â†’ <span class="hljs-selector-tag">Fin</span> (S n)
| <span class="hljs-selector-tag">FS</span>: (<span class="hljs-attribute">n</span>: Nat) â†’ <span class="hljs-selector-tag">Fin</span> <span class="hljs-selector-tag">n</span> â†’ <span class="hljs-selector-tag">Fin</span> (S n)
</code></pre>
<p>éå¸¸å¥‡æ€ªï¼Œå¯¹å§ã€‚ä¸¾ä¸ªä¾‹å­æ„Ÿå—ä¸€ä¸‹ï¼Œå¯¹äº <code>Fin 3</code> åªæœ‰ä»¥ä¸‹ä¸‰ä¸ªåˆæ³•å®ä¾‹ï¼Œæ­£å¥½èƒ½è¡¨ç¤º {0, 1, 2} è¿™ä¸ªæœ‰é™é›†ï¼š</p>
<pre><code><span class="hljs-symbol">0 </span>=&gt; FZ <span class="hljs-number">2</span>
<span class="hljs-symbol">1 </span>=&gt; FS <span class="hljs-number">2</span> (FZ <span class="hljs-number">1</span>)
<span class="hljs-symbol">2 </span>=&gt; FS <span class="hljs-number">2</span> (FS <span class="hljs-number">1</span> (FZ <span class="hljs-number">0</span>))
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ <code>Fin</code> çš„å‚æ•°è®¾å®šäº†åµŒå¥—çš„æœ€å¤§å±‚æ•°ï¼Œæ¯åµŒå¥—ä¸€å±‚ <code>FS</code> å†…å±‚çš„å‚æ•°å‡å°ä¸€ï¼Œè€ŒåµŒå¥—çš„å±‚æ•°å°±ç¼–ç äº†è¡¨ç¤ºçš„æ•°è¿™æ ·å°±èƒ½é™åˆ¶å–åˆ°çš„æœ€å¤§å€¼ã€‚</p>
</body>
</html>
