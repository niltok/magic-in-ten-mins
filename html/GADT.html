<!DOCTYPE html><html lang="zh-CN" prefix="og: https://ogp.me/ns#">
<head >
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title >
ååˆ†é’Ÿé­”æ³•ç»ƒä¹ </title>
<style >
@font-face {
    font-family: "subset body font";
    src: url("body.woff2") format("woff2");
}

@font-face {
    font-family: "subset code font";
    src: url("code.woff2") format("woff2");
}

@font-face {
    font-family: "subset emoji font";
    src: url("emoji.woff2") format("woff2");
}

body {
    max-width: 35em;
    margin: auto;
    width: 90%;
    margin-top: 10%;
    margin-bottom: 10%;
    color: #0B0E26;
    background: #FAFAFC;
    line-height: 1.75em;
    text-rendering: optimizeLegibility;
    text-align: justify;
}

html {
    scroll-behavior: smooth;
    font-size: calc(min(.35vw + 16px, 25px));
    font-family: "subset body font", "Source Han Serif SC", "Noto Serif SC", "Songti SC", SimSun, "AR PL Sungti", "subset emoji font", serif;
}

h1 {
    font-size: 2.5rem;
    color: #EF96AB;
    line-height: 1.5em;
}

h2 {
    margin-top: 2rem;
    line-height: 1.5em;
}

h1,
h2,
h3 {
    /* text-align: center; */
}

blockquote {
    color: gray;
    margin: 0;
    padding: 1px 0 1px 1.2em;
    border-left: .3em solid #EF96AB;
}

code,
pre {
    font-size: 0.9rem;
    line-height: 1.8em;
    font-family: "subset code font", "ç­‰è·æ›´çº±é»‘ä½“ SC", "JetBrains Mono", "Fira Code", Menlo, Monaco, source-code-pro, Courier New, Consolas, "subset emoji font", monospace;
    background: #FCF6FC;
    border-radius: 3px;
    padding-inline: 0.3em;
}

pre {
    overflow-x: auto;
    padding: 1em 1.5em;
}

pre>code {
    padding-inline: 0;
}

::-webkit-scrollbar,
.element::-webkit-scrollbar,
.element {
    /* opacity: 0.5; */
}

a {
    color: #02AEF1;
    text-decoration: none;
}

@media (prefers-color-scheme: dark) {
    body {
        color: #D8D8D6;
        background: #0E0E10;
    }
}

@media (prefers-color-scheme: dark) {

    pre,
    code {
        color: #D8D8D6;
        background: #0E0F1F;
    }
}

.hljs-keyword {
    color: #F288AF;
}

.hljs-comment {
    color: #929CA6;
}

.hljs-string {
    color: #0594A6;
}

.hljs-title {
    color: #4581D9;
}

.hljs-type,
.hljs-built_in {
    color: #fca311;
}</style>
</head>
<body >
<p >
<a href="https://magic.huohuo.moe">ğŸ HomepageğŸ </a> | <a href="https://github.com/niltok/magic-in-ten-mins">â­Star me on GitHubâ­</a></p>
<h1 id="ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå¹¿ä¹‰ä»£æ•°æ•°æ®ç±»å‹">ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šå¹¿ä¹‰ä»£æ•°æ•°æ®ç±»å‹</h1>
<h3 id="by-ã€Œç©ç«ã€">By ã€Œç©ç«ã€</h3>
<blockquote>
<p>å‰ç½®æŠ€èƒ½ï¼šJavaåŸºç¡€ï¼ŒADT</p>
</blockquote>
<p>åœ¨ ADT ä¸­å¯ä»¥æ„é€ å‡ºå¦‚ä¸‹ç±»å‹ï¼š</p>
<pre><code class="language-java"><span class="hljs-comment">// æ„é€ å‡½æ•°å·²çœå»</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Expr</span> </span>{}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    Integer value;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    Boolean value;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Add</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    Expr e1, e2;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Eq</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    Expr e1, e2;
}
</code></pre>
<p>ä½†æ˜¯è¿™æ ·æ„é€ æœ‰ä¸ªé—®é¢˜ï¼Œå¾ˆæ˜¾ç„¶ <code>BVal</code> æ˜¯ä¸èƒ½ç›¸åŠ çš„è€Œè¿™æ ·çš„æ„é€ å¹¶ä¸èƒ½é˜²æ­¢æ„é€ å‡ºè¿™æ ·çš„ä¸œè¥¿ã€‚å®é™…ä¸Šåœ¨è¿™ç§æƒ…å†µä¸‹ADTçš„è¡¨è¾¾èƒ½åŠ›æ˜¯ä¸è¶³çš„ã€‚</p>
<p>ä¸€ä¸ªæ¯”è¾ƒæ˜¾ç„¶çš„è§£å†³åŠæ³•æ˜¯ç»™ <code>Expr</code> æ·»åŠ ä¸€ä¸ªç±»å‹å‚æ•°ç”¨äºæ ‡è®°è¡¨è¾¾å¼çš„ç±»å‹ï¼š</p>
<pre><code class="language-java"><span class="hljs-comment">// æ„é€ å‡½æ•°å·²çœå»</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Expr</span>&lt;<span class="hljs-title">T</span>&gt; </span>{}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>{
    Integer value;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span>&lt;<span class="hljs-title">Boolean</span>&gt; </span>{
    Boolean value;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Add</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>{
    Expr&lt;Integer&gt; e1, e2;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Eq</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span>&lt;<span class="hljs-title">Boolean</span>&gt; </span>{
    Expr&lt;T&gt; e1, e2;
}
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥é¿å…æ„é€ å‡ºä¸¤ä¸ªç±»å‹ä¸º <code>Boolean</code> çš„è¡¨è¾¾å¼ç›¸åŠ ï¼Œèƒ½æ„é€ å‡ºçš„è¡¨è¾¾å¼éƒ½æ˜¯ç±»å‹å®‰å…¨çš„ã€‚</p>
<p>æ³¨æ„åˆ°å››ä¸ª <code>class</code> çš„çˆ¶ç±»éƒ½ä¸æ˜¯ <code>Expr&lt;T&gt;</code> è€Œæ˜¯åŒ…å«å‚æ•°çš„ <code>Expr</code> ï¼Œè¿™å’Œ ADT å¹¶ä¸ä¸€æ ·ã€‚è€Œè¿™å°±æ˜¯å¹¿ä¹‰ä»£æ•°æ•°æ®ç±»å‹ï¼ˆGeneralized Algebraic Data Type, GADTï¼‰ã€‚</p>
</body>
</html>
