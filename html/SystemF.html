<!DOCTYPE html><html lang="zh-CN" prefix="og: https://ogp.me/ns#">
<head >
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title >
ååˆ†é’Ÿé­”æ³•ç»ƒä¹ </title>
<style >
body {
    max-width: 35em;
    margin: auto;
    width: 90%;
    margin-top: 10%;
    margin-bottom: 10%;
    color: #0B0E26;
    background: #FAFAFC;
    line-height: 2em;
    text-rendering: optimizeLegibility;
    text-align: justify;
}

html {
    scroll-behavior: smooth;
    font-size: calc(min(.35vw + 16px, 25px));
    font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif;
}

h1 {
    font-size: 2.5rem;
    color: #EF96AB;
    line-height: 1.5em;
}

h2 {
    margin-top: 2rem;
    line-height: 1.5em;
}

h1,
h2,
h3 {
    /* text-align: center; */
}

blockquote {
    color: gray;
    margin: 0;
    padding: 1px 0 1px 1.2em;
    border-left: .3em solid #EF96AB;
}

code,
pre {
    font-size: 0.9rem;
    line-height: 1.8em;
    font-family: "JetBrains Mono", "ç­‰è·æ›´çº±é»‘ä½“ SC", "Fira Code", Menlo, Monaco, source-code-pro, Courier New, Consolas, monospace;
    background: #FCF6FC;
    border-radius: 3px;
    padding-inline: 0.3em;
}

pre {
    overflow-x: auto;
    padding: 1em 1.5em;
}

pre>code {
    padding-inline: 0;
}

::-webkit-scrollbar,
.element::-webkit-scrollbar,
.element {
    /* opacity: 0.5; */
}

a {
    color: #02AEF1;
    text-decoration: none;
}

@media (prefers-color-scheme: dark) {
    body {
        color: #D8D8D6;
        background: #0E0E10;
    }
}

@media (prefers-color-scheme: dark) {

    pre,
    code {
        color: #D8D8D6;
        background: #0E0F1F;
    }
}

.hljs-keyword {
    color: #F288AF;
}

.hljs-comment {
    color: #929CA6;
}

.hljs-string {
    color: #0594A6;
}

.hljs-title {
    color: #4581D9;
}

.hljs-type,
.hljs-built_in {
    color: #fca311;
}</style>
</head>
<body >
<p >
<a href="https://magic.huohuo.moe">ğŸ HomepageğŸ </a> | <a href="https://github.com/niltok/magic-in-ten-mins">â­Star me on GitHubâ­</a></p>
<h1 id="ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šç³»ç»Ÿ-f">ååˆ†é’Ÿé­”æ³•ç»ƒä¹ ï¼šç³»ç»Ÿ F</h1>
<h3 id="by-ã€Œç©ç«ã€">By ã€Œç©ç«ã€</h3>
<blockquote>
<p>å‰ç½®æŠ€èƒ½ï¼šJava åŸºç¡€ï¼ŒADTï¼Œç®€å•ç±»å‹ Î» æ¼”ç®—</p>
</blockquote>
<p>ç®€å•ç±»å‹ Î» æ¼”ç®—çš„ç±»å‹ç³»ç»Ÿéå¸¸ç®€å•ï¼Œæ¯”å¸¸è§çš„ C++, Java è¯­è¨€çš„ç±»å‹ç³»ç»Ÿè¡¨ç°åŠ›å·®è¿œäº†ã€‚è€Œå¦‚æœå¾€ç®€å•ç±»å‹ Î» æ¼”ç®—çš„è¡¨è¾¾å¼ä¸­åŠ å…¥ç±»å‹å‡½æ•°å®šä¹‰å’Œç±»å‹å‡½æ•°åº”ç”¨æ¥è”ç³»ç±»å‹å’Œè¡¨è¾¾å¼å°±å¯ä»¥å¤§å¤§å¢å¼ºå…¶è¡¨ç°åŠ›ï¼Œè¿™æ ·çš„ç±»å‹ç³»ç»Ÿè¢«ç§°ä¸ºç³»ç»Ÿ F ï¼ˆSystem Fï¼‰ã€‚</p>
<p>ç±»å‹å‡½æ•°å®šä¹‰ <code>Î› t. E</code> å®šä¹‰äº†ä¸€ä¸ªç±»å‹å˜é‡ <code>t</code> ï¼Œå¯ä»¥åœ¨è¡¨è¾¾å¼ <code>E</code> ä¸­ä½¿ç”¨ï¼Œå…¶ç±»å‹æ˜¯ <code>âˆ€ t. [Typeof(E)]</code> ã€‚</p>
<p>ç±»å‹å‡½æ•°åº”ç”¨ <code>F T</code> ç±»ä¼¼äºå‡½æ•°åº”ç”¨ï¼Œå½“ <code>F</code> çš„ç±»å‹ä¸º <code>âˆ€ t. E</code> æ—¶ <code>F T</code> çš„ç±»å‹æ˜¯ <code>E(t â†’ T)</code> ï¼Œä¹Ÿå°±æ˜¯ <code>E</code> ä¸­æ‰€æœ‰è‡ªç”±çš„ <code>t</code> è¢«æ›¿æ¢ä¸º <code>T</code> ã€‚  </p>
<p>æ¯”å¦‚ <code>true</code> çš„å®šä¹‰å¯ä»¥å†™æˆï¼š</p>
<pre><code>true = Î› a. Î» <span class="hljs-comment">(x: a)</span>. Î» <span class="hljs-comment">(y: a)</span>. <span class="hljs-comment">(x: a)</span>
</code></pre>
<p>å…¶ç±»å‹æ˜¯ï¼š</p>
<pre><code>âˆ€ <span class="hljs-selector-tag">a</span>. <span class="hljs-selector-tag">a</span> â†’ <span class="hljs-selector-tag">a</span> â†’ <span class="hljs-selector-tag">a</span>
</code></pre>
<p>è¿™å°±æœ‰ç‚¹ç±»ä¼¼ Java ä¸­çš„æ³›å‹å‡½æ•°ï¼š</p>
<pre><code class="language-java">&lt;A&gt; <span class="hljs-function">A <span class="hljs-title">True</span><span class="hljs-params">(A x, A y)</span> </span>{
    <span class="hljs-keyword">return</span> x;
}
</code></pre>
<p>è€Œç±»å‹å‡½æ•°åº”ç”¨å°±åƒæ˜¯ç»™å‡½æ•°å¡«å…¥æ³›å‹å‚æ•°çš„ç±»å‹ï¼Œåƒè¿™æ ·ï¼š</p>
<pre><code>Î› <span class="hljs-keyword">x</span>. <span class="hljs-keyword">true</span> <span class="hljs-keyword">x</span>
</code></pre>
<p>ä¼šå¾—åˆ° <code>true</code> æœ¬èº«ã€‚</p>
<p>è¡¨è¾¾å¼ä¸­åŠ å…¥äº†æ–°ä¸œè¥¿é‚£ä¹ˆæ˜¾ç„¶ç±»å‹ç³»ç»Ÿä¹Ÿéœ€è¦æœ‰ä¸€äº›æ”¹å˜ï¼Œç³»ç»Ÿ F çš„ç±»å‹ç³»ç»Ÿç”±ç±»å‹å˜é‡ <code>x</code> ï¼Œç±»å‹å‡½æ•° <code>âˆ€ t. E</code> ï¼Œå‡½æ•°ç±»å‹ <code>a â†’ b</code> æ„æˆï¼š</p>
<pre><code class="language-java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Type</span> </span>{}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    String x;
    UUID id;
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> x;
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TForall</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    TVal x;
    Type e;
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;(âˆ€ &quot;</span> + x + <span class="hljs-string">&quot;. &quot;</span> + e + <span class="hljs-string">&quot;)&quot;</span>;
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TArr</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    Type a, b;
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;(&quot;</span> + a + <span class="hljs-string">&quot; â†’ &quot;</span> + b + <span class="hljs-string">&quot;)&quot;</span>;
    }
}
</code></pre>
<p>æ³¨æ„ <code>TVal</code> çš„ <code>id</code> å­—æ®µæ˜¯åƒæ— ç±»å‹ Î» æ¼”ç®—ä¸­ä¸€æ · <code>equals</code> å‡½æ•°åªéœ€è¦æ¯”è¾ƒ <code>id</code> å­—æ®µã€‚</p>
<p>æ—¢ç„¶æœ‰ç±»å‹å‡½æ•°é‚£å°±éœ€è¦æœ‰ç±»ä¼¼å‡½æ•°åº”ç”¨çš„æ“ä½œæ¥å¡«å…¥ç±»å‹å‚æ•°ï¼ŒåŒæ—¶è¿˜éœ€è¦å‡½æ•°æ¥ç”Ÿæˆ <code>UUID</code> ï¼š</p>
<pre><code class="language-java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Type</span> </span>{
    <span class="hljs-function">Type <span class="hljs-title">apply</span><span class="hljs-params">(TVal x, Type t)</span></span>;
    <span class="hljs-function">Type <span class="hljs-title">genUUID</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">Type <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span></span>;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TVal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">apply</span><span class="hljs-params">(TVal x, Type t)</span> </span>{
        <span class="hljs-keyword">if</span> (equals(x)) <span class="hljs-keyword">return</span> t;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>; 
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">genUUID</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>; }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span> </span>{
        <span class="hljs-keyword">if</span> (x.equals(v.x)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TVal(x, v.id);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TForall</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">apply</span><span class="hljs-params">(TVal x, Type t)</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.x.equals(x)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> e.apply(x, t);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">genUUID</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (x.id == <span class="hljs-keyword">null</span>) {
            TVal v = <span class="hljs-keyword">new</span> TVal(x.x, UUID.randomUUID());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TForall(v, e.applyUUID(v).genUUID());
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TForall(x, e.genUUID());
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span> </span>{
        <span class="hljs-keyword">if</span> (x.x.equals(v.x)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TForall(x, e.applyUUID(v));
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        TForall tForall = (TForall) o;
        <span class="hljs-keyword">return</span> Objects.equals(e, tForall.e.apply(tForall.x, x));
        <span class="hljs-comment">//               Notice: ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
    }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TArr</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Type</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">apply</span><span class="hljs-params">(TVal x, Type t)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TArr(a.apply(x, t), 
                        b.apply(x, t));
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">genUUID</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TArr(a.genUUID(), b.genUUID());
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TArr(a.applyUUID(v), b.applyUUID(v));
    }
}
</code></pre>
<p>è¿™é‡Œçš„å®ç°å’Œæ— ç±»å‹ Î» æ¼”ç®—å¾ˆåƒã€‚ä¸è¿‡è¦æ³¨æ„ <code>TForall</code> çš„ <code>equals</code> å‡½æ•°å®ç°ï¼Œåœ¨æ¯”è¾ƒå‰éœ€è¦å…ˆæŠŠå˜é‡ç»Ÿä¸€ä¸€ä¸‹ã€‚</p>
<p>å†åœ¨ç®€å•ç±»å‹ Î» æ¼”ç®—çš„åŸºç¡€ä¸Šç»™è¡¨è¾¾å¼åŠ ä¸Šç±»å‹å‡½æ•°å®šä¹‰å’Œç±»å‹å‡½æ•°åº”ç”¨ï¼ŒåŒæ—¶è¿˜éœ€è¦ååŠ©ç±»å‹ç³»ç»Ÿç”Ÿæˆç±»å‹çš„ <code>UUID</code> ï¼š</p>
<pre><code class="language-java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Expr</span> </span>{
    <span class="hljs-function">Type <span class="hljs-title">checkType</span><span class="hljs-params">(Env env)</span> <span class="hljs-keyword">throws</span> BadTypeException</span>;
    <span class="hljs-function">Expr <span class="hljs-title">genUUID</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">Expr <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span></span>;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Val</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{ <span class="hljs-comment">/* ... */</span> }
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fun</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{ <span class="hljs-comment">/* ... */</span> }
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{ <span class="hljs-comment">/* ... */</span> }
<span class="hljs-comment">// ç±»å‹å‡½æ•°å®šä¹‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Forall</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    TVal x;
    Expr e;
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">checkType</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> BadTypeException </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TForall(x, e.checkType(env));
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">genUUID</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (x.id == <span class="hljs-keyword">null</span>) {
            TVal v = <span class="hljs-keyword">new</span> TVal(x.x, UUID.randomUUID());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Forall(v, e.applyUUID(v).genUUID());
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Forall(x, e.genUUID());
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span> </span>{
        <span class="hljs-keyword">if</span> (x.x.equals(v.x)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Forall(x, e.applyUUID(v));
    }
}
<span class="hljs-comment">// ç±»å‹å‡½æ•°åº”ç”¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppT</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Expr</span> </span>{
    Expr e;
    Type t;
    <span class="hljs-function"><span class="hljs-keyword">public</span> Type <span class="hljs-title">checkType</span><span class="hljs-params">(Env env)</span> <span class="hljs-keyword">throws</span> BadTypeException </span>{
        Type te = e.checkType(env);
        <span class="hljs-keyword">if</span> (te <span class="hljs-keyword">instanceof</span> TForall) <span class="hljs-comment">// å¡«å…¥ç±»å‹å‚æ•°</span>
            <span class="hljs-keyword">return</span> ((TForall) te).e.apply(((TForall) te).x, t);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BadTypeException();
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">genUUID</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AppT(e.genUUID(), t.genUUID());
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> Expr <span class="hljs-title">applyUUID</span><span class="hljs-params">(TVal v)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AppT(e.applyUUID(v), t.applyUUID(v));
    }
}
</code></pre>
<p>å…¶ä¸­ <code>Val</code>, <code>Fun</code>, <code>App</code> çš„å®šä¹‰å’Œç®€å•ç±»å‹ Î» æ¼”ç®—ä¸­åŸºæœ¬ä¸€è‡´ï¼Œè¿™é‡Œä¸ä½œå±•ç¤ºã€‚ä»–ä»¬çš„ <code>UUID</code> ç”Ÿæˆåªéœ€è¦æƒ³ <code>AppT</code> é‚£æ ·é€’å½’å°±å¯ä»¥ï¼Œæ— éœ€ç‰¹æ®Šæ“ä½œã€‚</p>
<p>è€Œæµ‹è¯•ä»£ç </p>
<pre><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SystemF</span> </span>{
    Expr T = <span class="hljs-keyword">new</span> Forall(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-keyword">new</span> Fun(
        <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
        <span class="hljs-keyword">new</span> Fun(<span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;y&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
            <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;x&quot;</span>)))).genUUID();
    Expr F = <span class="hljs-keyword">new</span> Forall(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-keyword">new</span> Fun(
        <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
        <span class="hljs-keyword">new</span> Fun(<span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;y&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
            <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;y&quot;</span>)))).genUUID();
    Type Bool = <span class="hljs-keyword">new</span> TForall(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-keyword">new</span> TArr(
        <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;x&quot;</span>),
        <span class="hljs-keyword">new</span> TArr(<span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;x&quot;</span>), <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;x&quot;</span>)))).genUUID();
    Expr IF = <span class="hljs-keyword">new</span> Forall(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-keyword">new</span> Fun(
        <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;b&quot;</span>, Bool),
        <span class="hljs-keyword">new</span> Fun(<span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)), <span class="hljs-keyword">new</span> Fun(
            <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;y&quot;</span>, <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
            <span class="hljs-keyword">new</span> App(<span class="hljs-keyword">new</span> App(
                <span class="hljs-keyword">new</span> AppT(<span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;b&quot;</span>), <span class="hljs-keyword">new</span> TVal(<span class="hljs-string">&quot;a&quot;</span>)),
                <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;x&quot;</span>)), <span class="hljs-keyword">new</span> Val(<span class="hljs-string">&quot;y&quot;</span>)))))).genUUID();
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> BadTypeException </span>{
        System.out.println(T.checkType(<span class="hljs-keyword">new</span> NilEnv()));
        System.out.println(IF.checkType(<span class="hljs-keyword">new</span> NilEnv()));
    }
}
</code></pre>
<p>è¿è¡Œä¼šè¾“å‡ºï¼š</p>
<pre><code><span class="hljs-comment">(âˆ€ a. (a â†’ (a â†’ a)</span>))
<span class="hljs-comment">(âˆ€ a. ((âˆ€ x. (x â†’ (x â†’ x)</span>)) â†’ <span class="hljs-comment">(a â†’ (a â†’ a)</span>)))
</code></pre>
</body>
</html>
